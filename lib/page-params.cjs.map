{"version":3,"file":"page-params.cjs","sources":["../src/page-params.ts"],"sourcesContent":["/**\n * page helper for Array#slice(start, end).\n */\nexport class PageParams {\n    private readonly page!: number;\n    private readonly size!: number;\n    private readonly recordCount!: number;\n    private readonly pageCount!: number;\n\n    constructor(page: number, size: number, recordCount: number) {\n        this.page = page;\n        this.size = size;\n        this.recordCount = recordCount;\n        if (page < 1) {\n            this.page = 1;\n        }\n        if (size < 1) {\n            this.size = 1;\n        }\n        if (recordCount < 0) {\n            this.recordCount = 0;\n        }\n        this.pageCount = Math.floor(this.recordCount / this.size) + 1;\n    }\n\n    /**\n     * new page helper.\n     * @param page page number\n     * @param size page size\n     * @param recordCount data record count\n     */\n    public static of(page: number, size: number, recordCount: number): PageParams {\n        return new PageParams(page, size, recordCount);\n    }\n\n    /**\n     * start of data index.\n     */\n    start(): number {\n        return (this.page - 1) * this.size;\n    }\n\n    /**\n     * end of data index.\n     */\n    end(): number {\n        const endNum = this.page * this.size;\n        if (endNum > this.recordCount) {\n            return this.recordCount\n        }\n        return endNum;\n    }\n\n    /**\n     * limit size of data.\n     */\n    limit(): number {\n        if (this.recordCount < this.size) {\n            return this.recordCount;\n        }\n        return this.size;\n    }\n\n    /**\n     * total pages count.\n     */\n    pages(): number {\n        return this.pageCount;\n    }\n}"],"names":[],"mappings":";;AAAA;;AAEG;AACH,IAAA,UAAA,kBAAA,YAAA;AAMI,IAAA,SAAA,UAAA,CAAY,IAAY,EAAE,IAAY,EAAE,WAAmB,EAAA;AACvD,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACjB,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACjB,QAAA,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,IAAI,GAAG,CAAC,EAAE;AACV,YAAA,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;AACjB,SAAA;QACD,IAAI,IAAI,GAAG,CAAC,EAAE;AACV,YAAA,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;AACjB,SAAA;QACD,IAAI,WAAW,GAAG,CAAC,EAAE;AACjB,YAAA,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;AACxB,SAAA;AACD,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACjE;AAED;;;;;AAKG;AACW,IAAA,UAAA,CAAA,EAAE,GAAhB,UAAiB,IAAY,EAAE,IAAY,EAAE,WAAmB,EAAA;QAC5D,OAAO,IAAI,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC;KAClD,CAAA;AAED;;AAEG;AACH,IAAA,UAAA,CAAA,SAAA,CAAA,KAAK,GAAL,YAAA;QACI,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC;KACtC,CAAA;AAED;;AAEG;AACH,IAAA,UAAA,CAAA,SAAA,CAAA,GAAG,GAAH,YAAA;QACI,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;AACrC,QAAA,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,EAAE;YAC3B,OAAO,IAAI,CAAC,WAAW,CAAA;AAC1B,SAAA;AACD,QAAA,OAAO,MAAM,CAAC;KACjB,CAAA;AAED;;AAEG;AACH,IAAA,UAAA,CAAA,SAAA,CAAA,KAAK,GAAL,YAAA;AACI,QAAA,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,EAAE;YAC9B,OAAO,IAAI,CAAC,WAAW,CAAC;AAC3B,SAAA;QACD,OAAO,IAAI,CAAC,IAAI,CAAC;KACpB,CAAA;AAED;;AAEG;AACH,IAAA,UAAA,CAAA,SAAA,CAAA,KAAK,GAAL,YAAA;QACI,OAAO,IAAI,CAAC,SAAS,CAAC;KACzB,CAAA;IACL,OAAC,UAAA,CAAA;AAAD,CAAC,EAAA;;;;"}